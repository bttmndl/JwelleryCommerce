{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajiv\\\\Desktop\\\\t_react\\\\t-react\\\\src\\\\MyComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyComponent() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const lastItemRef = useRef(null);\n  useEffect(() => {\n    const fetchItems = async () => {\n      setIsLoading(true);\n      const response = await fetch(`https://jsonplaceholder.typicode.com/todos${page}`);\n      const newItems = await response.json();\n      setItems(prevItems => [...prevItems, ...newItems]);\n      setIsLoading(false);\n    };\n    fetchItems();\n  }, [page]);\n  useEffect(() => {\n    if (lastItemRef.current) {\n      lastItemRef.current.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    }\n  }, [items]);\n  const handleScroll = event => {\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight\n    } = event.currentTarget;\n    if (scrollHeight - (scrollTop + clientHeight) < 10 && !isLoading) {\n      setPage(prevPage => prevPage + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onScroll: handleScroll,\n    style: {\n      overflowY: \"scroll\",\n      height: \"200px\"\n    },\n    children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [item.content, index === items.length - 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: lastItemRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 41\n      }, this) : null]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(MyComponent, \"9ofceVb+NdNVJroNuQ2da7kJsAw=\");\n_c = MyComponent;\nexport default MyComponent;\nvar _c;\n$RefreshReg$(_c, \"MyComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MyComponent","items","setItems","page","setPage","isLoading","setIsLoading","lastItemRef","fetchItems","response","fetch","newItems","json","prevItems","current","scrollIntoView","behavior","handleScroll","event","scrollTop","clientHeight","scrollHeight","currentTarget","prevPage","overflowY","height","map","item","index","content","length","id"],"sources":["C:/Users/Rajiv/Desktop/t_react/t-react/src/MyComponent.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction MyComponent() {\r\n  const [items, setItems] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const lastItemRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchItems = async () => {\r\n      setIsLoading(true);\r\n      const response = await fetch(\r\n        `https://jsonplaceholder.typicode.com/todos${page}`\r\n      );\r\n      const newItems = await response.json();\r\n      setItems((prevItems) => [...prevItems, ...newItems]);\r\n      setIsLoading(false);\r\n    };\r\n    fetchItems();\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (lastItemRef.current) {\r\n      lastItemRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [items]);\r\n\r\n  const handleScroll = (event) => {\r\n    const { scrollTop, clientHeight, scrollHeight } = event.currentTarget;\r\n    if (scrollHeight - (scrollTop + clientHeight) < 10 && !isLoading) {\r\n      setPage((prevPage) => prevPage + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onScroll={handleScroll}\r\n      style={{ overflowY: \"scroll\", height: \"200px\" }}\r\n    >\r\n      {items.map((item, index) => (\r\n        <div key={item.id}>\r\n          {item.content}\r\n          {index === items.length - 1 ? <div ref={lastItemRef}></div> : null}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\nexport default MyComponent"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC;AAE3D,SAASC,WAAW,GAAG;EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMU,WAAW,GAAGR,MAAM,CAAC,IAAI,CAAC;EAEhCD,SAAS,CAAC,MAAM;IACd,MAAMU,UAAU,GAAG,YAAY;MAC7BF,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CACzB,6CAA4CP,IAAK,EAAC,CACpD;MACD,MAAMQ,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MACtCV,QAAQ,CAAEW,SAAS,IAAK,CAAC,GAAGA,SAAS,EAAE,GAAGF,QAAQ,CAAC,CAAC;MACpDL,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IACDE,UAAU,EAAE;EACd,CAAC,EAAE,CAACL,IAAI,CAAC,CAAC;EAEVL,SAAS,CAAC,MAAM;IACd,IAAIS,WAAW,CAACO,OAAO,EAAE;MACvBP,WAAW,CAACO,OAAO,CAACC,cAAc,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IAC5D;EACF,CAAC,EAAE,CAACf,KAAK,CAAC,CAAC;EAEX,MAAMgB,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAM;MAAEC,SAAS;MAAEC,YAAY;MAAEC;IAAa,CAAC,GAAGH,KAAK,CAACI,aAAa;IACrE,IAAID,YAAY,IAAIF,SAAS,GAAGC,YAAY,CAAC,GAAG,EAAE,IAAI,CAACf,SAAS,EAAE;MAChED,OAAO,CAAEmB,QAAQ,IAAKA,QAAQ,GAAG,CAAC,CAAC;IACrC;EACF,CAAC;EAED,oBACE;IACE,QAAQ,EAAEN,YAAa;IACvB,KAAK,EAAE;MAAEO,SAAS,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAQ,CAAE;IAAA,UAE/CxB,KAAK,CAACyB,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACrB;MAAA,WACGD,IAAI,CAACE,OAAO,EACZD,KAAK,KAAK3B,KAAK,CAAC6B,MAAM,GAAG,CAAC,gBAAG;QAAK,GAAG,EAAEvB;MAAY;QAAA;QAAA;QAAA;MAAA,QAAO,GAAG,IAAI;IAAA,GAF1DoB,IAAI,CAACI,EAAE;MAAA;MAAA;MAAA;IAAA,QAIlB;EAAC;IAAA;IAAA;IAAA;EAAA,QACE;AAEV;AAAC,GA7CQ/B,WAAW;AAAA,KAAXA,WAAW;AA8CpB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}