{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rajiv/Desktop/t_react/t-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rajiv/Desktop/t_react/t-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rajiv/Desktop/t_react/t-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MainBody(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newsData=_useState2[0],setNewsData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(8),_useState6=_slicedToArray(_useState5,2),itemsPerPage=_useState6[0],setItemsPerPage=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];useEffect(function(){setLoading(true);//fetching the data from api\nfunction getNewsData(){return _getNewsData.apply(this,arguments);}function _getNewsData(){_getNewsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var RESPONSE;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://techcrunch.com/wp-json/wp/v2/posts?per_page=100&context=embed\");case 3:RESPONSE=_context.sent;setNewsData(RESPONSE.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 10:setLoading(false);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getNewsData.apply(this,arguments);}getNewsData();},[]);// Get current items\nvar indexOfLastItem=currentPage*itemsPerPage;var indexOfFirstItem=indexOfLastItem-itemsPerPage;var currentItems=newsData.slice(indexOfFirstItem,indexOfLastItem);// Change page\nvar paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};// Calculate number of pages\nvar totalPages=Math.ceil(newsData.length/itemsPerPage);console.log(newsData[0]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mainbody\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loader-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[currentItems.map(function(ele,idx){var _ele$title,_ele$excerpt;return/*#__PURE__*/ (//rendering each card\n_jsx(\"a\",{href:ele.canonical_url,target:\"_blank\",rel:\"noopener noreferrer\",style:{textDecoration:\"none\",color:\"inherit\",display:\"block\"},children:/*#__PURE__*/_jsx(Card,{newsImage:ele===null||ele===void 0?void 0:ele.jetpack_featured_media_url,title:ele===null||ele===void 0?void 0:(_ele$title=ele.title)===null||_ele$title===void 0?void 0:_ele$title.rendered,dateShow:ele===null||ele===void 0?void 0:ele.date,excerpt:ele===null||ele===void 0?void 0:(_ele$excerpt=ele.excerpt)===null||_ele$excerpt===void 0?void 0:_ele$excerpt.rendered,author:ele===null||ele===void 0?void 0:ele.author,link:ele===null||ele===void 0?void 0:ele.link})},ele.id));}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination-container\",children:Array.from({length:totalPages}).map(function(_,index){return/*#__PURE__*/_jsx(\"button\",{className:\"pagination-button \".concat(currentPage===index+1&&\"active\"),onClick:function onClick(){return paginate(index+1);},children:index+1},index);})})]})]});}export default MainBody;","map":{"version":3,"names":["React","useState","useEffect","axios","Card","MainBody","newsData","setNewsData","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","loading","setLoading","error","setError","getNewsData","get","RESPONSE","data","message","indexOfLastItem","indexOfFirstItem","currentItems","slice","paginate","pageNumber","totalPages","Math","ceil","length","console","log","map","ele","idx","canonical_url","textDecoration","color","display","jetpack_featured_media_url","title","rendered","date","excerpt","author","link","id","Array","from","_","index"],"sources":["C:/Users/Rajiv/Desktop/t_react/t-react/src/components/MainBody.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Card from \"./Card\";\r\n\r\nfunction MainBody() {\r\n  const [newsData, setNewsData] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(8);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    //fetching the data from api\r\n    async function getNewsData() {\r\n      try {\r\n        const RESPONSE = await axios.get(\r\n          \"https://techcrunch.com/wp-json/wp/v2/posts?per_page=100&context=embed\"\r\n        );\r\n        setNewsData(RESPONSE.data);\r\n      } catch (error) {\r\n        setError(error.message);\r\n      }\r\n      setLoading(false);\r\n    }\r\n\r\n    getNewsData();\r\n  }, []);\r\n\r\n  // Get current items\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentItems = newsData.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  // Change page\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  // Calculate number of pages\r\n  const totalPages = Math.ceil(newsData.length / itemsPerPage);\r\n\r\n  console.log(newsData[0])\r\n  return (\r\n    <div className=\"mainbody\">\r\n      {loading && (\r\n        <div className=\"loader-container\">\r\n          <div className=\"loader\"></div>\r\n        </div>\r\n      )}\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      {!loading && !error && (\r\n        <>\r\n          {currentItems.map((ele, idx) => (\r\n            //rendering each card\r\n            <a\r\n              key={ele.id}\r\n              href={ele.canonical_url}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              style={{\r\n                textDecoration: \"none\",\r\n                color: \"inherit\",\r\n                display: \"block\",\r\n              }}\r\n            >\r\n              <Card\r\n                newsImage={ele?.jetpack_featured_media_url}\r\n                title={ele?.title?.rendered}\r\n                dateShow={ele?.date}\r\n                excerpt={ele?.excerpt?.rendered}\r\n                author={ele?.author}\r\n                link={ele?.link}\r\n              />\r\n            </a>\r\n          ))}\r\n\r\n          <div className=\"pagination-container\">\r\n            {Array.from({ length: totalPages }).map((_, index) => (\r\n              <button\r\n                key={index}\r\n                className={`pagination-button ${\r\n                  currentPage === index+1 && \"active\"\r\n                }`}\r\n                onClick={() => paginate(index + 1)}\r\n              >\r\n                {index + 1}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainBody;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}